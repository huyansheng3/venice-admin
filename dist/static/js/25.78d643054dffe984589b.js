webpackJsonp([25],{dnG0:function(e,a,r){(e.exports=r("FZ+f")(!1)).push([e.i,"\n.admin-container[data-v-33648184] {\n  background-color: #2d3a4b;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.admin-container .title[data-v-33648184] {\n    font-size: 26px;\n    font-weight: 400;\n    color: #333;\n    margin: 0px auto 40px auto;\n    text-align: center;\n    font-weight: bold;\n}\n.admin-container .admin-form[data-v-33648184] {\n    background: #fff;\n    border-radius: 10px;\n    width: 600px;\n    padding: 35px 35px 15px 35px;\n    margin: 120px auto;\n}\n.avatar-uploader .el-upload[data-v-33648184] {\n  border: 1px dashed #d9d9d9;\n  border-radius: 6px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n}\n.avatar-uploader .el-upload[data-v-33648184]:hover {\n  border-color: #409EFF;\n}\n.avatar-uploader-icon[data-v-33648184] {\n  font-size: 28px;\n  color: #8c939d;\n  width: 178px;\n  height: 178px;\n  line-height: 178px;\n  text-align: center;\n}\n.avatar[data-v-33648184] {\n  width: 178px;\n  height: 178px;\n  display: block;\n}\n",""])},nkqZ:function(e,a,r){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=r("95YI"),t={data:function(){return{fullscreenLoading:!1,Form:{username:"",phone:"",password:"",imageUrl:"",addressParams:{province:"",city:"",area:"",address:""},rules:{password:[{required:!0,message:"请输入密码",trigger:"change"}],phone:[{required:!0,message:"请输入手机号码",trigger:"change"}],address:[{required:!0,message:"请输入地址",trigger:"change"}]},selectedAddress:"",selectedOptions:[],cities:[{value:"admin",label:"普通管理员"},{value:"test",label:"测试"},{value:"root",label:"超级管理员"}],selectedPermission:""}}},components:{VDistpicker:r.n(s).a},methods:{addAdmin:function(){var e=this;if(!this.Form.selectedPermission)return this.$message.error("请选择权限");if(!this.Form.addressParams.province||!this.Form.addressParams.city||!this.Form.addressParams.area)return this.$message.error("请完善地址信息");if(!this.Form.imageUrl)return this.$message.error("请上传用户头像");this.fullscreenLoading=!0;var a={username:this.Form.username,password:this.Form.password,phone:this.Form.phone,roles:this.Form.selectedPermission,photo_url:this.Form.imageUrl,province:this.Form.addressParams.province,city:this.Form.addressParams.city,area:this.Form.addressParams.area,address:this.Form.addressParams.address};this.$store.dispatch("CreateUser",a).then(function(a){e.fullscreenLoading=!1,e.$message.success("提交成功,正等待审核"),setTimeout(function(){e.$router.go(-1)},1500)},function(a){e.fullscreenLoading=!1})},handleAvatarSuccess:function(e,a){this.Form.imageUrl=a.response.Data[0].filename},onDistpickerSelected:function(e){this.Form.addressParams.province=e.province.value,this.Form.addressParams.city=e.city.value,this.Form.addressParams.area=e.area.value},changeAddress:function(e){this.Form.addressParams.address=e},beforeAvatarUpload:function(e){var a="image/jpeg"===e.type,r=e.size/1024/1024<2;return a||this.$message.error("上传头像图片只能是 JPG 格式!"),r||this.$message.error("上传头像图片大小不能超过 2MB!"),a&&r}}},n={render:function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("div",{staticClass:"admin-container"},[r("el-form",{ref:"ruleForm",staticClass:"card-box admin-form",attrs:{model:e.Form,rules:e.Form.rules,"label-position":"left"}},[r("h3",{staticClass:"title"},[e._v("京东商城后台管理系统")]),e._v(" "),r("el-form-item",{attrs:{rules:[{required:!0,message:"名字不能为空"},{min:3,message:"名字不能小于3位"}],label:"用户名",prop:"username","label-width":"80px"}},[r("el-input",{model:{value:e.Form.username,callback:function(a){e.$set(e.Form,"username",a)},expression:"Form.username"}})],1),e._v(" "),r("el-form-item",{attrs:{rules:[{required:!0,message:"密码不能为空"},{min:5,message:"密码不能小于3位"}],label:"密码",prop:"password","label-width":"80px"}},[r("el-input",{model:{value:e.Form.password,callback:function(a){e.$set(e.Form,"password",a)},expression:"Form.password"}})],1),e._v(" "),r("el-form-item",{attrs:{rules:[{required:!0,message:"手机号码不能为空"},{min:11,message:"手机号码是11位"}],label:"手机号码",prop:"phone","label-width":"80px"}},[r("el-input",{model:{value:e.Form.phone,callback:function(a){e.$set(e.Form,"phone",a)},expression:"Form.phone"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"权限",prop:"permission","label-width":"80px"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.Form.selectedPermission,callback:function(a){e.$set(e.Form,"selectedPermission",a)},expression:"Form.selectedPermission"}},e._l(e.Form.cities,function(a){return r("el-option",{key:a.value,attrs:{label:a.label,value:a.value}},[r("span",{staticStyle:{float:"left"}},[e._v(e._s(a.label))]),e._v(" "),r("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(a.value))])])}))],1),e._v(" "),r("el-form-item",{attrs:{label:"地区",prop:"region","label-width":"80px"}},[r("v-distpicker",{on:{selected:e.onDistpickerSelected}})],1),e._v(" "),r("el-form-item",{attrs:{rules:[{required:!0,message:"地址不能为空"},{min:5,message:"地址不能小于5未"}],label:"详细地址",prop:"addressParams.address","label-width":"80px"}},[r("el-input",{model:{value:e.Form.addressParams.address,callback:function(a){e.$set(e.Form.addressParams,"address",a)},expression:"Form.addressParams.address"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"用户头像",prop:"avatar","label-width":"80px"}},[r("el-upload",{staticClass:"avatar-uploader",attrs:{action:"http://awei.fun:3333/Unit/uploadfile","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.Form.imageUrl?r("img",{staticClass:"avatar",attrs:{src:e.Form.imageUrl}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),r("el-form-item",[r("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:e.addAdmin}},[e._v("注册")])],1)],1)],1)},staticRenderFns:[]};var i=r("VU/8")(t,n,!1,function(e){r("oYb9")},"data-v-33648184",null);a.default=i.exports},oYb9:function(e,a,r){var s=r("dnG0");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);r("rjj0")("dd1afbac",s,!0)}});